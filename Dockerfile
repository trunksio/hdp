from ubuntu
RUN apt-get update
RUN apt-get -y upgrade
RUN apt-get -y install wget ntp
RUN wget -O /etc/apt/sources.list.d/ambari.list http://public-repo-1.hortonworks.com/ambari/ubuntu16/2.x/updates/2.6.1.0/ambari.list
RUN apt-key adv --recv-keys --keyserver keyserver.ubuntu.com B9733A7A07513CAD
RUN apt-get update
RUN apt-get -y install ambari-server ambari-agent
#expose 10000 10020 10033 1004 1006 10101 11000 11001 11060 111 11443 12000 12001 13562 14000 14001 16000 16001 18080 18081 18088 19888 19890 2049 20550 2181 2888 3181 3888 41414 4181 4242 4867 50010 50020 50030 50060 50070 50075 50090 50111 50470 50475 50495 51000 5678 60000 60010 60020 60030 7077 7078 7180 7182 7183 7184 7185 7186 7187 7432 8005 8018 8019 8020 8021 8022 8023 8030 8031 8032 8033 8038 8040 8041 8042 8044 8080 8083 8084 8085 8086 8087 8088 8089 8090 8091 8480 8481 8485 8888 9000 9001 9010 9083 9090 9095 9290 9994 9995 9996 9997 9998 9999
ADD ambari-agent.ini /etc/ambari-agent/conf/ambari-agent.ini
ADD agentstart.sh /agentstart.sh
ADD ambaristart.sh /ambaristart.sh
expose 88 443 1019 2181 2222 2888 3000 3306 3772 3773 3888 4560 5151 6080 6182 6627 6700 6701 6702 6703 8000 8020 8025 8030 8042 8050 8080 8085 8088 8141 8188 8190 8440 8441 8443 8888 9000 9060 9083 9090 9092 9095 9292 9293 9450 9451 9995 9997 9999 10000 10001 10002 10020 10030 10200 11000 11001 11443 12234 12999 13562 16000 16010 16020 16030 19888 21000 21443 41414 42424 45454 50010 50020 50070 50075 50090 50091 50095 50470 50475 
